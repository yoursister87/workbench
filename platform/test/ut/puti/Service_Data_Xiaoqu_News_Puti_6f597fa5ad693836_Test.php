<?php
            /**
             * @package              
             * @subpackage           
             * @author               $Author: puti $
             * @file                 $HeadURL$
             * @version              $Rev$
             * @lastChangeBy         $LastChangedBy$
             * @lastmodified         $LastChangedDate$
             * @copyright            Copyright (c) 2015, www.ganji.com
             */
            

            class Service_Data_Xiaoqu_News_Puti_6f597fa5ad693836_Test extends Testcase_PTest
            {
                public $serviceDataXiaoquNews;

                protected function setUp()
                {
                    parent::setUp();
                    Gj_Layerproxy::$is_ut = true;
                    $this->serviceDataXiaoquNews = new Service_Data_Xiaoqu_News();
                }

                protected function tearDown()
                {

                }
                    
                                /*{{{ testGetXiaoquNewsList_0 */
                                
                            public function testPutiGetXiaoquNewsList_0()
                            {        $fakeObj_0= $this->genObjectMock("Dao_Xiaoqu_XiaoquNews", array("getXiaoquNewsByStatus"), array(), "", true);
        $fakeObj_0->expects($this->at(0))->method("getXiaoquNewsByStatus")->will($this->returnValue( array (0 => array ('id' => '250', 'xiaoqu_id' => '100303', 'account_id' => '29998', 'user_id' => '50029116', 'content' => '国美第一城修改点代码试试吧', 'domain' => 'bj', 'ip' => '3232247187', 'ctime' => '1405330926'), 1 => array ('id' => '251', 'xiaoqu_id' => '101264', 'account_id' => '29998', 'user_id' => '50029116', 'content' => '在北方机房就没有这个问题。。。。哎呀呀，南方机房好多消息都看不到了~', 'domain' => 'bj', 'ip' => '3232247264', 'ctime' => '1405672571'), 2 => array ('id' => '264', 'xiaoqu_id' => '1418', 'account_id' => '29998', 'user_id' => '50029116', 'content' => 'sdfsfsfsdfsd', 'domain' => 'bj', 'ip' => '3232247187', 'ctime' => '1406274389'), 3 => array ('id' => '281', 'xiaoqu_id' => '1418', 'account_id' => '30733', 'user_id' => '50043458', 'content' => '小区环境好，公交方便，周边设施齐全', 'domain' => 'bj', 'ip' => '3232247259', 'ctime' => '1406612168'), 4 => array ('id' => '282', 'xiaoqu_id' => '20142', 'account_id' => '30057', 'user_id' => '50039610', 'content' => '南方城市小区动态，发个小区动态', 'domain' => 'sh', 'ip' => '3232247271', 'ctime' => '1406613185'), 5 => array ('id' => '289', 'xiaoqu_id' => '20142', 'account_id' => '30057', 'user_id' => '50039610', 'content' => '发个小区动态，发个小区动态，发个下去动态', 'domain' => 'sh', 'ip' => '3232247271', 'ctime' => '1406618646'), 6 => array ('id' => '290', 'xiaoqu_id' => '20142', 'account_id' => '30057', 'user_id' => '50039610', 'content' => '孤独感SD敢达谁发给大法官', 'domain' => 'sh', 'ip' => '3232247259', 'ctime' => '1406618775'), 7 => array ('id' => '291', 'xiaoqu_id' => '227843', 'account_id' => '30057', 'user_id' => '50039610', 'content' => '管梵蒂冈的风格大法官', 'domain' => 'sh', 'ip' => '3232247259', 'ctime' => '1406618786'), 8 => array ('id' => '292', 'xiaoqu_id' => '71577', 'account_id' => '30057', 'user_id' => '50039610', 'content' => '个梵蒂冈大法官的风格大法官', 'domain' => 'sh', 'ip' => '3232247259', 'ctime' => '1406618796'), 9 => array ('id' => '293', 'xiaoqu_id' => '109103', 'account_id' => '29998', 'user_id' => '50029116', 'content' => '个梵蒂冈固定高公司的公司打工大哥大嫂十多个三个', 'domain' => 'bj', 'ip' => '3232249540', 'ctime' => '1406709849'))));

           $fakeObj_same = $this->genObjectMock("Service_Data_Xiaoqu_News", array("getAndPatchNewsImagesListByNewsId"), array(), "", true);
           $fakeObj_same->expects($this->at(0))->method("getAndPatchNewsImagesListByNewsId")->will($this->returnValue( array (0 => array ('id' => '355', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPDpz2IMgZ3AABgIraP5OQAAAApwAdXmEAAGA6728.jpg'), 1 => array ('id' => '356', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPDpz2IaSxgAACzP6Qes6oAAAApwAdvpsAALNX113.jpg'), 2 => array ('id' => '357', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPDpz2IfJlvAACvB20x2R0AAAApwAecfIAAK8f026.jpg'))));

           $fakeObj_same->expects($this->at(1))->method("getAndPatchNewsImagesListByNewsId")->will($this->returnValue( array ()));

           $fakeObj_same->expects($this->at(2))->method("getAndPatchNewsImagesListByNewsId")->will($this->returnValue( array (0 => array ('id' => '363', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPSDKaIcr3EAACvB20x2R0AAAAqQHP9BkAAK8f297.jpg'))));

           $fakeObj_same->expects($this->at(3))->method("getAndPatchNewsImagesListByNewsId")->will($this->returnValue( array ()));

           $fakeObj_same->expects($this->at(4))->method("getAndPatchNewsImagesListByNewsId")->will($this->returnValue( array (0 => array ('id' => '386', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPXOCWIMAsQAACYBGZaLR0AAAAqQNu8lkAAJgc794.jpg'))));

           $fakeObj_same->expects($this->at(5))->method("getAndPatchNewsImagesListByNewsId")->will($this->returnValue( array (0 => array ('id' => '392', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPXTXiILPRQAAB10txjilAAAAAqQOCsYAAAHXq593.jpg'))));

           $fakeObj_same->expects($this->at(6))->method("getAndPatchNewsImagesListByNewsId")->will($this->returnValue( array ()));

           $fakeObj_same->expects($this->at(7))->method("getAndPatchNewsImagesListByNewsId")->will($this->returnValue( array ()));

           $fakeObj_same->expects($this->at(8))->method("getAndPatchNewsImagesListByNewsId")->will($this->returnValue( array ()));

           $fakeObj_same->expects($this->at(9))->method("getAndPatchNewsImagesListByNewsId")->will($this->returnValue( array ()));

        Gj_LayerProxy::registerProxy("Dao_Xiaoqu_XiaoquNews", $fakeObj_0);

                                        $rs = $fakeObj_same->getXiaoquNewsList();
        
        $expect =  array ('errorno' => '0', 'errormsg' => '[数据返回成功]', 'data' => array (0 => array ('id' => '250', 'xiaoqu_id' => '100303', 'account_id' => '29998', 'user_id' => '50029116', 'content' => '国美第一城修改点代码试试吧', 'domain' => 'bj', 'ip' => '3232247187', 'ctime' => '1405330926', 'image_list' => array (0 => array ('id' => '355', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPDpz2IMgZ3AABgIraP5OQAAAApwAdXmEAAGA6728.jpg'), 1 => array ('id' => '356', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPDpz2IaSxgAACzP6Qes6oAAAApwAdvpsAALNX113.jpg'), 2 => array ('id' => '357', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPDpz2IfJlvAACvB20x2R0AAAApwAecfIAAK8f026.jpg'))), 1 => array ('id' => '251', 'xiaoqu_id' => '101264', 'account_id' => '29998', 'user_id' => '50029116', 'content' => '在北方机房就没有这个问题。。。。哎呀呀，南方机房好多消息都看不到了~', 'domain' => 'bj', 'ip' => '3232247264', 'ctime' => '1405672571', 'image_list' => array ()), 2 => array ('id' => '264', 'xiaoqu_id' => '1418', 'account_id' => '29998', 'user_id' => '50029116', 'content' => 'sdfsfsfsdfsd', 'domain' => 'bj', 'ip' => '3232247187', 'ctime' => '1406274389', 'image_list' => array (0 => array ('id' => '363', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPSDKaIcr3EAACvB20x2R0AAAAqQHP9BkAAK8f297.jpg'))), 3 => array ('id' => '281', 'xiaoqu_id' => '1418', 'account_id' => '30733', 'user_id' => '50043458', 'content' => '小区环境好，公交方便，周边设施齐全', 'domain' => 'bj', 'ip' => '3232247259', 'ctime' => '1406612168', 'image_list' => array ()), 4 => array ('id' => '282', 'xiaoqu_id' => '20142', 'account_id' => '30057', 'user_id' => '50039610', 'content' => '南方城市小区动态，发个小区动态', 'domain' => 'sh', 'ip' => '3232247271', 'ctime' => '1406613185', 'image_list' => array (0 => array ('id' => '386', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPXOCWIMAsQAACYBGZaLR0AAAAqQNu8lkAAJgc794.jpg'))), 5 => array ('id' => '289', 'xiaoqu_id' => '20142', 'account_id' => '30057', 'user_id' => '50039610', 'content' => '发个小区动态，发个小区动态，发个下去动态', 'domain' => 'sh', 'ip' => '3232247271', 'ctime' => '1406618646', 'image_list' => array (0 => array ('id' => '392', 'image' => 'gjfstmp2/M00/00/01/wKgCzFPXTXiILPRQAAB10txjilAAAAAqQOCsYAAAHXq593.jpg'))), 6 => array ('id' => '290', 'xiaoqu_id' => '20142', 'account_id' => '30057', 'user_id' => '50039610', 'content' => '孤独感SD敢达谁发给大法官', 'domain' => 'sh', 'ip' => '3232247259', 'ctime' => '1406618775', 'image_list' => array ()), 7 => array ('id' => '291', 'xiaoqu_id' => '227843', 'account_id' => '30057', 'user_id' => '50039610', 'content' => '管梵蒂冈的风格大法官', 'domain' => 'sh', 'ip' => '3232247259', 'ctime' => '1406618786', 'image_list' => array ()), 8 => array ('id' => '292', 'xiaoqu_id' => '71577', 'account_id' => '30057', 'user_id' => '50039610', 'content' => '个梵蒂冈大法官的风格大法官', 'domain' => 'sh', 'ip' => '3232247259', 'ctime' => '1406618796', 'image_list' => array ()), 9 => array ('id' => '293', 'xiaoqu_id' => '109103', 'account_id' => '29998', 'user_id' => '50029116', 'content' => '个梵蒂冈固定高公司的公司打工大哥大嫂十多个三个', 'domain' => 'bj', 'ip' => '3232249540', 'ctime' => '1406709849', 'image_list' => array ())));

        $this->assertEquals($expect, $rs);


                            }
                        /*}}}*/    


                        }